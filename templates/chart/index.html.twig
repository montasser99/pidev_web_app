{% extends 'base-back.html.twig' %}
{% block title %}Chart{% endblock %}
{% block contenu %}
      <div class="pagetitle">
      <h1>Statistique</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{{path('app_backend')}}">Home</a></li>
          {# <li class="breadcrumb-item">Tables</li>
          <li class="breadcrumb-item active">Data</li> #}
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-12">

          <div class="card">
            <div class="card-body">
              
    <div id="pieChart" style="min-height: 400px;" class="echart"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            echarts.init(document.querySelector("#pieChart")).setOption({
                title: {
                    text: 'Nombre des Moyens de Transport',
                    subtext: 'par plan',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'item'
                },
                legend: {
                    orient: 'vertical',
                    left: 'left',
                    //data: ['Bus', 'Metro', 'Train']
                    data: ['Mensuel', 'Semestriel', 'Annuel']
                },
                series: [{
                    name: 'Number of Moyentps',
                    type: 'pie',
                    radius: '50%',
                    data: [
                        {value: {{ nb_m }}, name: 'Mensuel'},
                        {value: {{ nb_s }}, name: 'Semestriel'},
                        {value: {{ nb_a }}, name: 'Annuel'}
                        {# {value: {{ nb_bus }}, name: 'Bus'}, #}
                        {# {value: {{ nb_metro }}, name: 'Metro'}, #}
                        {# {value: {{ nb_train }}, name: 'Train'} #}
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }]
            });
        });
    </script>


            </div>
          </div>

        </div>
      </div>
    </section>
      <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{{path('app_chart2')}}">Next</a></li>
          {# <li class="breadcrumb-item">Tables</li>
          <li class="breadcrumb-item active">Data</li> #}
        </ol>
{% endblock %}





